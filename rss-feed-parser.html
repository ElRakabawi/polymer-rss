<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-ajax/core-ajax.html">

<polymer-element name="rss-feed-parser" constructor="RSSFeedParser" attributes="auto url headers params" hidden>

  <template>
    <core-ajax id="ajax" url="{{url}}" auto?="{{auto}}" body="{{body}}" headers="{{headers}}" on-core-response="{{handleResponse}}">
  </template>

  <script>
    Polymer('rss-feed-parser', {
      handleResponse: function(event) {
        var rss = {}; //TODO: REAL STUFF
        this.fire('feed-parsed', { rss: rss, response: event.detail.response, xhr: event.detail.xhr} );
      },
      go: function() {
        this.$.ajax.go();
      }
    });
  </script>
</polymer-element>
